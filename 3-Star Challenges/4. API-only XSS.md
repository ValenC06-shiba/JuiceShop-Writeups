<img width="378" height="183" alt="image" src="https://github.com/user-attachments/assets/c9ace83e-e7f4-4f2a-8398-7f128f9332ba" />

# API-only XSS
We need to find a way to trigger the XSS payload <iframe src="javascript:alert(`xss`)"> without using the UI

This meant that we need to find a way to make the website display something(javascript payload) on screen without using the UI

Knowing this I went looking for requests that ask the api to show something:

For example, when I go to the scoreboard page, the system should request something to the server so that it displays the scoreboard,
using this, I can potentially try to change something in the request so that one of the resulting response is my own input.


<img width="1600" height="848" alt="image" src="https://github.com/user-attachments/assets/2d17f7e0-9bc4-488c-a2c4-e730fe2d01f2" /><br/><br/><br/>

# Scoreboard
Here I recognize the request to the scoreboard, but no responses, maybe I should try to request just `api/Challenges`

<img width="900" height="600" alt="image" src="https://github.com/user-attachments/assets/e566cbd7-a319-485d-a596-c1175b0778ab" /><br/><br/>

Yes, the server responds with all the challenge information.
Now, since I want to try and change the name of challenge 1 for example, I'll request the first challenge and change the parameters

Following the original request format, I changed the request as such:

<img width="900" height="550" alt="image" src="https://github.com/user-attachments/assets/44570549-2af7-4297-82e8-32859fa1d346" />

#  


Then I tried to add a parameter at the bottom to change the name to the payload 

<img width="900" height="600" alt="image" src="https://github.com/user-attachments/assets/abe83623-2c3c-4d69-94a5-efd8812f65ed" />

no luck, but its to be expected since it is a get request after all

Then I realised this could get quite **messy** as all the contents are stored looks like a JSON of JSONs and the content was huge so I decided to look for other means of exploitation.


# Products
Next, I found the products request when adding a product to the basket

<img width="1211" height="713" alt="image" src="https://github.com/user-attachments/assets/464f936e-5abe-4d76-9a60-ef14b2f7aafd" />

Looking at the structure, I can see that each product is stored in their own file, this is perfect as I can just replace the some of the contents with my own malicious payload.

Here, I went for the first product ID.

<img width="1207" height="658" alt="image" src="https://github.com/user-attachments/assets/2582cc1e-fbb1-403e-9e4a-0dde538495f0" />

Now all I did was change the request header to PUT, add the content type(application/json), and added the payload to the "description" section.
This is to change the value of the Descrption section of the product to our own payload.

*Note that we need to escape the double quotes in the middle so that it doesn cause any errors

<img width="1209" height="615" alt="image" src="https://github.com/user-attachments/assets/21898cd2-d972-429d-b361-b3c9b99f2123" />

After this, JuisceShop should detect the XSS and complete the challenge.
